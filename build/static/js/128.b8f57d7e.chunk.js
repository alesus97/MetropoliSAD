"use strict";(self.webpackChunkmetropolisad=self.webpackChunkmetropolisad||[]).push([[128],{74991:function(e,n,t){t.d(n,{t:function(){return o}});var i=t(48051),r="cinema-sad",o={getAllSpettacoli:function(e){return i.b.get(r,"/cinema/".concat(e,"/spettacoli"),{response:!0})},deleteSpettacolo:function(e){return i.b.del(r,"/spettacoli/".concat(e),{response:!0})},createSpettacolo:function(e,n){var t={body:n,response:!0};return i.b.post(r,"/sale/".concat(e,"/spettacoli"),t)},getAllSale:function(e){return i.b.get(r,"/cinema/".concat(e,"/sale"),{response:!0})},deleteSala:function(e){return i.b.del(r,"/sale/".concat(e),{response:!0})},createSala:function(e,n){var t={body:n,response:!0};return i.b.post(r,"/cinema/".concat(e,"/sale"),t)},getAllFilms:function(){return i.b.get(r,"/film",{response:!0})},deleteFilm:function(e){return i.b.del(r,"/film/".concat(e),{response:!0})},createFilm:function(e){var n={body:e,response:!0};return i.b.post(r,"/film",n)},getAllQuestions:function(e){return i.b.get(r,"/film/".concat(e,"/domande"),{response:!0})},deleteQuestion:function(e){return i.b.del(r,"/domande/".concat(e),{response:!0})},createQuestion:function(e,n){var t={body:n,response:!0};return i.b.post(r,"/film/".concat(e,"/domande"),t)},getAllPrizes:function(){return i.b.get(r,"/premi",{response:!0})},deletePrize:function(e){return i.b.del(r,"/premi/".concat(e),{response:!0})},createPrize:function(e){var n={body:e,response:!0};return i.b.post(r,"/premi",n)},getAllCinemas:function(){return i.b.get(r,"/cinema",{response:!0})},deleteCinema:function(e){return i.b.del(r,"/cinema/".concat(e),{response:!0})},createCinema:function(e){var n={body:e,response:!0};return i.b.post(r,"/cinema",n)},getPostiDisponibili:function(e){return i.b.get(r,"/spettacoli/".concat(e,"/disponibilita"),{response:!0})},getBiglietti:function(){return i.b.get(r,"/biglietti",{response:!0})},createBiglietto:function(e,n){var t={body:e,response:!0};return i.b.post(r,"/spettacoli/".concat(n,"/biglietti"),t)},getProfilo:function(){return i.b.get(r,"/user",{response:!0})}}},25578:function(e,n,t){t.d(n,{Z:function(){return l}});t(72791);var i=t(39157),r=t(51691),o=t(53767),a=t(20890),s=t(60753),c=t(80184);function l(e){return(0,c.jsx)(i.Z,{children:(0,c.jsx)(r.Z,{component:"div",id:"alert-dialog-description",children:(0,c.jsxs)(o.Z,{justifyContent:"space-between",direction:{xs:"column",sm:"row"},spacing:2,children:[(0,c.jsx)(s.Z,{color:"error"}),(0,c.jsxs)(a.Z,{textAlign:"center",children:[" ",e.onDeleteMessage]}),(0,c.jsx)(s.Z,{color:"error"})]})})})}},46727:function(e,n,t){t.d(n,{Z:function(){return g}});var i=t(70885),r=t(72791),o=t(5289),a=t(65661),s=t(94721),c=t(39157),l=t(91614),u=t(64554),d=t(60627),p=t(19658),f=t(53767),m=t(36151),x=t(15773),h=t(80184);function g(e){var n=(0,r.useState)(!1),t=(0,i.Z)(n,2),g=t[0],Z=t[1],j=(0,r.useState)(!1),v=(0,i.Z)(j,2),b=v[0],C=v[1],w=(0,r.useState)([]),S=(0,i.Z)(w,2),y=S[0],D=S[1],A=function(){e.setCloseDialog(),C(!1),D("")};return(0,h.jsx)("div",{children:(0,h.jsxs)(o.Z,{open:e.openDialog,fullWidth:!0,maxWidth:"sm",onClose:A,children:[(0,h.jsx)(a.Z,{align:"center",children:e.title}),(0,h.jsx)(s.Z,{}),(0,h.jsx)(c.Z,{children:(0,h.jsx)(l.Z,{component:"main",maxWidth:"sm",children:(0,h.jsxs)(u.Z,{component:"form",onSubmit:function(n){Z(!0),e.handleOK(n).then((function(){Z(!1),A(),C(!1),D("")})).catch((function(e){console.log(e),C(!0),D(e.response.data.message)}))},children:[e.children,b&&(0,h.jsx)(d.Z,{in:b,timeout:{enter:1e3,exit:1e3},addEndListener:function(){setTimeout((function(){console.log("prova"),Z(!1),C(!1)}),4e3)},children:(0,h.jsx)(p.Z,{"data-cy":"AlertDialog",variant:"filled",color:"primary",icon:(0,h.jsx)(x.Z,{fontSize:"inherit"}),children:y})}),(0,h.jsx)("p",{}),(0,h.jsxs)(f.Z,{justifyContent:"flex-end",direction:"row",spacing:2,children:[(0,h.jsx)(m.Z,{variant:"contained",onClick:A,children:"Cancel"}),(0,h.jsx)(m.Z,{"data-cy":"ok",variant:"contained",type:"submit",disabled:g,children:"Ok"})]})]})})})]})})}},33128:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var i=t(74165),r=t(42982),o=t(1413),a=t(15861),s=t(70885),c=t(62430),l=t(72791),u=t(74991),d=t(64554),p=t(49877),f=t(61889),m=t(57621),x=t(47047),h=t(9585),g=t(20890),Z=t(13400),j=t(68087),v=t(27247),b=t(42169),C=t(72363),w=t(36151),S=t(80184);function y(e){return(0,S.jsxs)(m.Z,{raised:!0,sx:{maxWidth:500},children:[(0,S.jsx)(b.Z,{component:"img",height:"250",image:"https://www.romasette.it/wp-content/uploads/film-1.jpg"}),(0,S.jsx)(h.Z,{title:(0,S.jsxs)(g.Z,{align:"center",variant:"body1",children:[" ",e.info.nome]})}),(0,S.jsxs)(C.Z,{children:[(0,S.jsx)(Z.Z,{onClick:function(){return e.onDeleteAction()},children:(0,S.jsx)(v.Z,{color:"primary"})}),(0,S.jsx)(w.Z,{style:{marginLeft:"auto"},onClick:function(){return e.openExploreAction()},variant:"text",children:"Dettagli"})]})]})}var D=t(46727),A=t(74953),P=t(53767);function k(){return(0,S.jsxs)(d.Z,{children:[(0,S.jsx)(A.Z,{fullWidth:!0,label:"Nome",required:!0,autoComplete:"nome",name:"nome",sx:{"& fieldset":{borderColor:"white"}}}),(0,S.jsxs)(P.Z,{direction:"row",spacing:2,sx:{mt:2},children:[(0,S.jsx)(A.Z,{fullWidth:!0,label:"Citt\xe0",required:!0,autoComplete:"citta",name:"citta",sx:{"& fieldset":{borderColor:"white"}}}),(0,S.jsx)(A.Z,{fullWidth:!0,label:"CAP",required:!0,type:"number",autoComplete:"CAP",name:"CAP",sx:{"& fieldset":{borderColor:"white"}}})]}),(0,S.jsxs)(P.Z,{direction:"row",spacing:2,sx:{mt:2},children:[(0,S.jsx)(A.Z,{fullWidth:!0,label:"Via",required:!0,autoComplete:"via",name:"via",sx:{"& fieldset":{borderColor:"white"}}}),(0,S.jsx)(A.Z,{fullWidth:!0,label:"Civico",required:!0,type:"number",autoComplete:"civico",name:"civico",sx:{"& fieldset":{borderColor:"white"}}})]}),(0,S.jsxs)(P.Z,{direction:"row",spacing:2,sx:{mt:2},children:[(0,S.jsx)(A.Z,{fullWidth:!0,label:"Latitudine",required:!0,autoComplete:"latitudine",name:"latitudine",sx:{"& fieldset":{borderColor:"white"}}}),(0,S.jsx)(A.Z,{fullWidth:!0,label:"Longitudine",required:!0,autoComplete:"longitudine",name:"longitudine",sx:{"& fieldset":{borderColor:"white"}}})]}),(0,S.jsxs)(P.Z,{direction:"row",spacing:2,sx:{mt:2},children:[(0,S.jsx)(A.Z,{fullWidth:!0,label:"Recapito",required:!0,autoComplete:"recapito",name:"recapito",sx:{"& fieldset":{borderColor:"white"}}}),(0,S.jsx)(A.Z,{fullWidth:!0,label:"Facciata",autoComplete:"image_url",name:"image_url",type:"url",required:!0,sx:{"& fieldset":{borderColor:"white"}}})]}),(0,S.jsx)("p",{})]})}var W=t(25578),_=t(15021),M=t(49900),q=t(5289),R=t(65661),I=t(94721),N=t(39157),L=t(90493),O=t(97123),z=function(e){var n=e.label,t=e.children;return(0,S.jsxs)(_.ZP,{alignItems:"flex-start",children:[(0,S.jsx)(g.Z,{variant:"overline",color:"primary",style:{paddingRight:4,minWidth:150,textAlign:"fixed-start"},children:n}),(0,S.jsx)(M.Z,{children:(0,S.jsx)(g.Z,{variant:"body2",children:t})})]})};function E(e){return(0,S.jsxs)(q.Z,{open:e.openDialog,fullWidth:!0,maxWidth:"sm",onClose:e.setCloseDialog,children:[(0,S.jsx)(R.Z,{align:"center",color:"primary",children:e.info.nome}),(0,S.jsx)(I.Z,{light:!0}),(0,S.jsx)(N.Z,{children:(0,S.jsxs)(L.Z,{children:[(0,S.jsx)(z,{label:"Nome",children:e.info.nome}),(0,S.jsx)(z,{label:"Citt\xe0",children:e.info.citta}),(0,S.jsx)(z,{label:"Recapito",children:e.info.recapito}),(0,S.jsx)(z,{label:"Via",children:e.info.via}),(0,S.jsx)(z,{label:"CAP",children:e.info.cap}),(0,S.jsx)(z,{label:"Civico",children:e.info.civico})]})}),(0,S.jsx)(O.Z,{children:(0,S.jsx)(w.Z,{variant:"contained",onClick:function(){return e.setCloseDialog()},children:"Ok"})})]})}function F(e){var n=e.handleSubmit,t=e.handleDelete,i=e.loading,r=e.cinemas,o=e.setOnDeleteIndex,a=l.useState(!1),c=(0,s.Z)(a,2),u=c[0],v=c[1],b=l.useState(!1),C=(0,s.Z)(b,2),w=C[0],A=C[1],P=(0,l.useState)(!1),_=(0,s.Z)(P,2),M=_[0],q=_[1],R=(0,l.useState)(0),I=(0,s.Z)(R,2),N=I[0],L=I[1],O=Array(10).fill("");return(0,S.jsxs)(d.Z,{sx:{p:3},children:[(0,S.jsx)(p.Z,{sx:{position:"fixed",bottom:"3%",right:"3%"},color:"primary","aria-label":"add",onClick:function(){return v(!0)},children:(0,S.jsx)(j.Z,{})}),(0,S.jsxs)(f.ZP,{container:!0,spacing:{xs:2,md:3},columns:{xs:2,sm:8,md:10,lg:12},children:[i&&O.map((function(e,n){return(0,S.jsx)(f.ZP,{item:!0,xs:2,sm:4,md:10/3,lg:3,children:(0,S.jsxs)(m.Z,{raised:!0,sx:{maxWidth:500},children:[(0,S.jsx)(x.Z,{height:250,variant:"rounded"}),(0,S.jsx)(h.Z,{title:(0,S.jsxs)(f.ZP,{container:!0,spacing:1,children:[(0,S.jsx)(f.ZP,{item:!0,xs:7,children:(0,S.jsx)(g.Z,{align:"center",variant:"h6"})}),(0,S.jsx)(f.ZP,{item:!0,children:(0,S.jsx)(g.Z,{align:"center",variant:"h6"})})]}),action:(0,S.jsx)(Z.Z,{})})]})},n)})),r&&r.map((function(e,n){return(0,S.jsx)(f.ZP,{item:!0,xs:2,sm:4,md:10/3,lg:3,children:(0,S.jsx)(y,{info:e,onDeleteAction:function(){o(n),A(!0)},openExploreAction:function(){q(!0),L(n)}})},e.codice_cinema)}))]}),(0,S.jsx)(D.Z,{openDialog:u,setCloseDialog:function(){return v(!1)},handleOK:n,title:"Inserisci nuovo cinema",children:(0,S.jsx)(k,{})}),(0,S.jsx)(D.Z,{openDialog:w,setCloseDialog:function(){return A(!1)},handleOK:t,title:"Sei sicuro di voler eliminare il cinema?",children:(0,S.jsx)(W.Z,{onDeleteMessage:"L'eliminazione di un cinema comporta l'eliminazione degli spettacoli e delle sale associati ad esso"})}),r.length>0&&void 0!==r[N]&&(0,S.jsx)(E,{openDialog:M,setCloseDialog:function(){return q(!1)},info:r[N]}),(0,S.jsx)(d.Z,{height:70})]})}var K=t(43144),Q=t(15671),B=(0,K.Z)((function e(n){(0,Q.Z)(this,e),this.via=n.via,this.latitudine=n.latitudine,this.longitudine=n.longitudine,this.cap=n.cap,this.civico=n.civico,this.nome=n.nome,this.citta=n.citta,this.recapito=n.recapito,this.codice_cinema=n.codice_cinema,this.image_url=n.image_url}));function T(){var e=(0,l.useState)([]),n=(0,s.Z)(e,2),t=n[0],d=n[1],p=(0,l.useState)(),f=(0,s.Z)(p,2),m=f[0],x=f[1],h=(0,l.useState)(!0),g=(0,s.Z)(h,2),Z=g[0],j=g[1],v=(0,l.useState)(""),b=(0,s.Z)(v,2),C=b[0],w=b[1],y=(0,l.useState)(),D=(0,s.Z)(y,2),A=D[0],P=D[1],k=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){var a,s,c,l,p;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=new FormData(n.currentTarget),s={nome:a.get("nome"),citta:a.get("citta"),recapito:a.get("recapito"),via:a.get("via"),cap:a.get("CAP"),latitudine:a.get("latitudine"),longitudine:a.get("longitudine"),image_url:a.get("image_url"),civico:a.get("civico")},e.prev=3,e.next=6,u.t.createCinema(s);case 6:c=e.sent,console.log(c),l=(0,o.Z)({codice_cinema:c.data.codice_cinema},s),console.log(l),(p=(0,r.Z)(t)).push(l),d(p),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(3),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(n){return e.apply(this,arguments)}}(),W=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){var o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),o=t[m].codice_cinema,e.prev=2,e.next=5,u.t.deleteCinema(o);case 5:e.sent,(a=(0,r.Z)(t)).splice(m,1),d((0,r.Z)(a)),console.log("Cinema cancellato correttamente"),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(2),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(n){return e.apply(this,arguments)}}(),_=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.t.getAllCinemas().then((function(e){var n=e.data.map((function(e){return new B(e)}));d(n),j(!1)})).catch((function(e){P(!0),w(e)}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){_()}),[]),A?(0,S.jsx)(c.Z,{error:C}):(0,S.jsx)(F,{handleSubmit:k,handleDelete:W,loading:Z,cinemas:t,setOnDeleteIndex:x})}},62430:function(e,n,t){t.d(n,{Z:function(){return u}});t(72791);var i=t(64554),r=t(53767),o=t(61889),a=t(20890),s=t(15021),c=t(57689),l=t(80184);function u(e){var n,t,u;(0,c.s0)();return(0,l.jsx)(i.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"85vh"},children:(0,l.jsxs)(r.Z,{direction:"row",spacing:2,children:[(0,l.jsx)(s.ZP,{children:(0,l.jsxs)(o.ZP,{children:[(0,l.jsx)(a.Z,{variant:"h1",children:null===(n=e.error.response)||void 0===n?void 0:n.status}),(0,l.jsx)(a.Z,{variant:"h5",children:null===(t=e.error)||void 0===t?void 0:t.code}),(0,l.jsx)(a.Z,{variant:"h6",children:null===(u=e.error.response)||void 0===u?void 0:u.data.message}),(0,l.jsx)("p",{})]})}),(0,l.jsx)(s.ZP,{children:(0,l.jsx)(o.ZP,{children:(0,l.jsx)("img",{src:"/ErrorImage.png",alt:"",width:500,height:500})})})]})})}},72363:function(e,n,t){t.d(n,{Z:function(){return h}});var i=t(63366),r=t(87462),o=t(72791),a=t(28182),s=t(94419),c=t(66934),l=t(31402),u=t(75878),d=t(21217);function p(e){return(0,d.Z)("MuiCardActions",e)}(0,u.Z)("MuiCardActions",["root","spacing"]);var f=t(80184),m=["disableSpacing","className"],x=(0,c.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,!t.disableSpacing&&n.spacing]}})((function(e){var n=e.ownerState;return(0,r.Z)({display:"flex",alignItems:"center",padding:8},!n.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),h=o.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiCardActions"}),o=t.disableSpacing,c=void 0!==o&&o,u=t.className,d=(0,i.Z)(t,m),h=(0,r.Z)({},t,{disableSpacing:c}),g=function(e){var n=e.classes,t={root:["root",!e.disableSpacing&&"spacing"]};return(0,s.Z)(t,p,n)}(h);return(0,f.jsx)(x,(0,r.Z)({className:(0,a.Z)(g.root,u),ownerState:h,ref:n},d))}))},97123:function(e,n,t){t.d(n,{Z:function(){return h}});var i=t(63366),r=t(87462),o=t(72791),a=t(28182),s=t(94419),c=t(66934),l=t(31402),u=t(75878),d=t(21217);function p(e){return(0,d.Z)("MuiDialogActions",e)}(0,u.Z)("MuiDialogActions",["root","spacing"]);var f=t(80184),m=["className","disableSpacing"],x=(0,c.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,!t.disableSpacing&&n.spacing]}})((function(e){var n=e.ownerState;return(0,r.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!n.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),h=o.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiDialogActions"}),o=t.className,c=t.disableSpacing,u=void 0!==c&&c,d=(0,i.Z)(t,m),h=(0,r.Z)({},t,{disableSpacing:u}),g=function(e){var n=e.classes,t={root:["root",!e.disableSpacing&&"spacing"]};return(0,s.Z)(t,p,n)}(h);return(0,f.jsx)(x,(0,r.Z)({className:(0,a.Z)(g.root,o),ownerState:h,ref:n},d))}))}}]);
//# sourceMappingURL=128.b8f57d7e.chunk.js.map