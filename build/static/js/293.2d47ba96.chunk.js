"use strict";(self.webpackChunkmetropolisad=self.webpackChunkmetropolisad||[]).push([[293,463],{4991:function(e,t,n){n.d(t,{t:function(){return s}});var r=n(8051),i="cinema-sad",s={getAllSpettacoli:function(e){return r.b.get(i,"/cinema/".concat(e,"/spettacoli"),{response:!0})},deleteSpettacolo:function(e){return r.b.del(i,"/spettacoli/".concat(e),{response:!0})},createSpettacolo:function(e,t){var n={body:t,response:!0};return r.b.post(i,"/sale/".concat(e,"/spettacoli"),n)},getAllSale:function(e){return r.b.get(i,"/cinema/".concat(e,"/sale"),{response:!0})},deleteSala:function(e){return r.b.del(i,"/sale/".concat(e),{response:!0})},createSala:function(e,t){var n={body:t,response:!0};return r.b.post(i,"/cinema/".concat(e,"/sale"),n)},getAllFilms:function(){return r.b.get(i,"/film",{response:!0})},deleteFilm:function(e){return r.b.del(i,"/film/".concat(e),{response:!0})},createFilm:function(e){var t={body:e,response:!0};return r.b.post(i,"/film",t)},getAllQuestions:function(e){return r.b.get(i,"/film/".concat(e,"/domande"),{response:!0})},deleteQuestion:function(e){return r.b.del(i,"/domande/".concat(e),{response:!0})},createQuestion:function(e,t){var n={body:t,response:!0};return r.b.post(i,"/film/".concat(e,"/domande"),n)},getAllPrizes:function(){return r.b.get(i,"/premi",{response:!0})},deletePrize:function(e){return r.b.del(i,"/premi/".concat(e),{response:!0})},createPrize:function(e){var t={body:e,response:!0};return r.b.post(i,"/premi",t)},getAllCinemas:function(){return r.b.get(i,"/cinema",{response:!0})},deleteCinema:function(e){return r.b.del(i,"/cinema/".concat(e),{response:!0})},createCinema:function(e){var t={body:e,response:!0};return r.b.post(i,"/cinema",t)},getPostiDisponibili:function(e){return r.b.get(i,"/spettacoli/".concat(e,"/disponibilita"),{response:!0})},getBiglietti:function(){return r.b.get(i,"/biglietti",{response:!0})},createBiglietto:function(e,t){var n={body:e,response:!0};return r.b.post(i,"/spettacoli/".concat(t,"/biglietti"),n)},getProfilo:function(){return r.b.get(i,"/user",{response:!0})}}},5578:function(e,t,n){n.d(t,{Z:function(){return l}});n(2791);var r=n(9157),i=n(1691),s=n(3767),o=n(890),a=n(753),c=n(184);function l(e){return(0,c.jsx)(r.Z,{children:(0,c.jsx)(i.Z,{component:"div",id:"alert-dialog-description",children:(0,c.jsxs)(s.Z,{justifyContent:"space-between",direction:{xs:"column",sm:"row"},spacing:2,children:[(0,c.jsx)(a.Z,{color:"error"}),(0,c.jsxs)(o.Z,{textAlign:"center",children:[" ",e.onDeleteMessage]}),(0,c.jsx)(a.Z,{color:"error"})]})})})}},6727:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(885),i=n(2791),s=n(5289),o=n(5661),a=n(4721),c=n(9157),l=n(1614),d=n(4554),u=n(2003),h=n(9658),p=n(3767),x=n(6151),Z=n(5773),f=n(184);function m(e){var t=(0,i.useState)(!1),n=(0,r.Z)(t,2),m=n[0],j=n[1],g=(0,i.useState)(!1),v=(0,r.Z)(g,2),b=v[0],w=v[1],_=(0,i.useState)([]),y=(0,r.Z)(_,2),C=y[0],D=y[1],S=function(){e.setCloseDialog(),w(!1),D("")};return(0,f.jsx)("div",{children:(0,f.jsxs)(s.Z,{open:e.openDialog,fullWidth:!0,maxWidth:"sm",onClose:S,children:[(0,f.jsx)(o.Z,{align:"center",children:e.title}),(0,f.jsx)(a.Z,{}),(0,f.jsx)(c.Z,{children:(0,f.jsx)(l.Z,{component:"main",maxWidth:"sm",children:(0,f.jsxs)(d.Z,{component:"form",onSubmit:function(t){j(!0),e.handleOK(t).then((function(){j(!1),S(),w(!1),D("")})).catch((function(e){console.log(e),w(!0),D(e.response.data.message)}))},children:[e.children,b&&(0,f.jsx)(u.Z,{in:b,timeout:{enter:1e3,exit:1e3},addEndListener:function(){setTimeout((function(){console.log("prova"),j(!1),w(!1)}),4e3)},children:(0,f.jsx)(h.Z,{"data-cy":"AlertDialog",variant:"filled",color:"primary",icon:(0,f.jsx)(Z.Z,{fontSize:"inherit"}),children:C})}),(0,f.jsx)("p",{}),(0,f.jsxs)(p.Z,{justifyContent:"flex-end",direction:"row",spacing:2,children:[(0,f.jsx)(x.Z,{variant:"contained",onClick:S,children:"Cancel"}),(0,f.jsx)(x.Z,{"data-cy":"ok",variant:"contained",type:"submit",disabled:m,children:"Ok"})]})]})})})]})})}},6293:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var r=n(4165),i=n(2982),s=n(1413),o=n(5861),a=n(885),c=n(6727),l=n(2791),d=n(4554),u=n(4953),h=n(3767),p=n(184);function x(){return(0,p.jsxs)(d.Z,{children:[(0,p.jsx)(u.Z,{fullWidth:!0,"data-cy":"domanda",margin:"normal",label:"Domanda",autoComplete:"question",required:!0,name:"question",sx:{"& fieldset":{borderColor:"white"}}}),(0,p.jsxs)(h.Z,{direction:"row",spacing:2,sx:{mt:2},children:[(0,p.jsx)(u.Z,{fullWidth:!0,"data-cy":"risposta_1",label:"Risposta 1",autoComplete:"answer1",name:"answer1",required:!0,sx:{"& fieldset":{borderColor:"white"}}}),(0,p.jsx)(u.Z,{fullWidth:!0,"data-cy":"risposta_2",label:"Risposta 2",autoComplete:"answer2",name:"answer2",required:!0,sx:{"& fieldset":{borderColor:"white"}}})]}),(0,p.jsxs)(h.Z,{direction:"row",spacing:2,sx:{mt:2},children:[(0,p.jsx)(u.Z,{fullWidth:!0,"data-cy":"risposta_3",label:"Risposta 3",autoComplete:"answer3",name:"answer3",required:!0,sx:{"& fieldset":{borderColor:"white"}}}),(0,p.jsx)(u.Z,{fullWidth:!0,"data-cy":"risposta_corretta",label:"Risposta corretta",autoComplete:"correctAnswer",name:"correctAnswer",required:!0,sx:{"& fieldset":{borderColor:"white"}}})]}),(0,p.jsx)("p",{})]})}var Z=n(5578),f=n(8087),m=n(5397),j=n(9877),g=n(890),v=n(9281),b=n(5527),w=n(9836),_=n(6890),y=n(5855),C=n(3994),D=n(3382),S=n(7047),k=n(3400);n(1463);function P(e){var t=e.handleSubmit,n=e.handleDelete,r=e.loading,i=e.questions,s=e.setOnDeleteIndex,o=e.filmTitle,u=l.useState(!1),h=(0,a.Z)(u,2),P=h[0],A=h[1],q=l.useState(!1),O=(0,a.Z)(q,2),W=O[0],z=O[1],R=Array(5).fill("");return(0,p.jsx)(d.Z,{sx:{p:3},children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.Z,{"data-cy":"addQuiz",sx:{position:"fixed",bottom:"3%",right:"3%"},color:"primary","aria-label":"add",onClick:function(){return A(!0)},children:(0,p.jsx)(f.Z,{})}),(0,p.jsx)(c.Z,{openDialog:P,setCloseDialog:function(){return A(!1)},handleOK:t,title:'Inserisci nuova domanda per "'.concat(o,'"'),children:(0,p.jsx)(x,{})}),(0,p.jsx)(c.Z,{openDialog:W,setCloseDialog:function(){return z(!1)},handleOK:n,title:"Sei sicuro di voler eliminare la domanda?",children:(0,p.jsx)(Z.Z,{onDeleteMessage:"L'azione non potr\xe0 essere annullata"})}),(0,p.jsx)(g.Z,{variant:"h5",color:"primary",align:"center",children:o}),(0,p.jsx)("p",{}),(0,p.jsx)(v.Z,{component:b.Z,children:(0,p.jsxs)(w.Z,{sx:{minWidth:650},children:[(0,p.jsx)(_.Z,{children:(0,p.jsxs)(y.Z,{height:70,children:[(0,p.jsx)(C.Z,{component:"th",scope:"row",width:"30%",children:"Domanda"}),(0,p.jsx)(C.Z,{align:"center",width:"10%",children:"Risposta 1"}),(0,p.jsx)(C.Z,{align:"center",width:"10%",children:"Risposta 2"}),(0,p.jsx)(C.Z,{align:"center",width:"10%",children:"Risposta 3"}),(0,p.jsx)(C.Z,{align:"center",width:"10%",children:"Risposta corretta"}),(0,p.jsx)(C.Z,{align:"center",width:"10%",children:"Elimina"})]})}),(0,p.jsxs)(D.Z,{children:[r&&R.map((function(e,t){return(0,p.jsxs)(y.Z,{height:70,children:[(0,p.jsx)(C.Z,{component:"th",scope:"row",width:"30%",children:(0,p.jsx)(S.Z,{})}),(0,p.jsx)(C.Z,{align:"center",width:"10%",children:(0,p.jsx)(S.Z,{})}),(0,p.jsx)(C.Z,{align:"center",width:"10%",children:(0,p.jsx)(S.Z,{})}),(0,p.jsx)(C.Z,{align:"center",width:"10%",children:(0,p.jsx)(S.Z,{})}),(0,p.jsx)(C.Z,{align:"center",width:"10%",children:(0,p.jsx)(S.Z,{})}),(0,p.jsx)(C.Z,{align:"center",width:"10%",children:(0,p.jsxs)(k.Z,{children:[" ",(0,p.jsx)(m.Z,{color:"background"})," "]})})]},t)})),i&&i.map((function(e,t){return(0,p.jsxs)(y.Z,{height:70,children:[(0,p.jsxs)(C.Z,{component:"th",scope:"row",children:[" ",e.testo," "]}),(0,p.jsxs)(C.Z,{align:"center",children:[" ",e.risposta_errata_1," "]}),(0,p.jsxs)(C.Z,{align:"center",children:[" ",e.risposta_errata_2," "]}),(0,p.jsxs)(C.Z,{align:"center",children:[" ",e.risposta_errata_3," "]}),(0,p.jsxs)(C.Z,{align:"center",children:[" ",e.risposta_corretta," "]}),(0,p.jsxs)(C.Z,{align:"center",children:["  ",(0,p.jsxs)(k.Z,{onClick:function(){s(t),z(!0)},children:[" ",(0,p.jsx)(m.Z,{color:"primary"})," "]})," "]})]},t)}))]})]})})]})})}var A=n(4991),q=n(3144),O=n(5671),W=(0,q.Z)((function e(t){(0,O.Z)(this,e),this.codice_domanda=t.codice_domanda,this.testo=t.testo,this.risposta_errata_1=t.risposta_errata_1,this.risposta_errata_2=t.risposta_errata_2,this.risposta_errata_3=t.risposta_errata_3,this.risposta_corretta=t.risposta_corretta,this.codice_film=t.codice_film})),z=n(7689),R=n(2430);function I(){var e=(0,l.useState)(""),t=(0,a.Z)(e,2),n=t[0],c=t[1],d=(0,l.useState)(),u=(0,a.Z)(d,2),h=u[0],x=u[1],Z=(0,l.useState)([]),f=(0,a.Z)(Z,2),m=f[0],j=f[1],g=(0,l.useState)(!0),v=(0,a.Z)(g,2),b=v[0],w=v[1],_=(0,l.useState)(),y=(0,a.Z)(_,2),C=y[0],D=y[1],S=(0,l.useState)(""),k=(0,a.Z)(S,2),q=k[0],O=k[1],I=(0,z.UO)().filmId,Q=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,o,a,c,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=new FormData(t.currentTarget),o={testo:n.get("question"),risposta_errata_1:n.get("answer1"),risposta_errata_2:n.get("answer2"),risposta_errata_3:n.get("answer3"),risposta_corretta:n.get("correctAnswer")},e.prev=3,e.next=6,A.t.createQuestion(I,o);case 6:a=e.sent,c=(0,s.Z)({codice_domanda:a.data.codice_domanda},o),(l=(0,i.Z)(m)).push(c),j(l),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(3),e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=m[C].codice_domanda,e.prev=2,e.next=5,A.t.deleteQuestion(n);case 5:e.sent,(s=(0,i.Z)(m)).splice(C,1),j((0,i.Z)(s)),console.log("Domanda cancellata correttamente"),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(2),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A.t.getAllQuestions(I).then((function(e){O(e.data.titolo);var t=e.data.domande.map((function(e){return new W(e)}));j(t),w(!1)})).catch((function(e){console.log(e),x(!0),c(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){T()}),[]),h?(0,p.jsx)(R.Z,{error:n}):(0,p.jsx)(P,{handleSubmit:Q,handleDelete:F,loading:b,questions:m,setOnDeleteIndex:D,filmTitle:q})}},2430:function(e,t,n){n.d(t,{Z:function(){return d}});n(2791);var r=n(4554),i=n(3767),s=n(1889),o=n(890),a=n(5021),c=n(7689),l=n(184);function d(e){var t,n,d;(0,c.s0)();return(0,l.jsx)(r.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"85vh"},children:(0,l.jsxs)(i.Z,{direction:"row",spacing:2,children:[(0,l.jsx)(a.ZP,{children:(0,l.jsxs)(s.ZP,{children:[(0,l.jsx)(o.Z,{variant:"h1",children:null===(t=e.error.response)||void 0===t?void 0:t.status}),(0,l.jsx)(o.Z,{variant:"h5",children:null===(n=e.error)||void 0===n?void 0:n.code}),(0,l.jsx)(o.Z,{variant:"h6",children:null===(d=e.error.response)||void 0===d?void 0:d.data.message}),(0,l.jsx)("p",{})]})}),(0,l.jsx)(a.ZP,{children:(0,l.jsx)(s.ZP,{children:(0,l.jsx)("img",{src:"/ErrorImage.png",alt:"",width:500,height:500})})})]})})}},1463:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});n(2791);var r=n(4554),i=n(3767),s=n(5021),o=n(1889),a=n(890),c=n(6151),l=n(7689),d=n(184);function u(){var e=(0,l.s0)();return console.log("404NOTFOUND"),(0,d.jsx)(r.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"85vh"},children:(0,d.jsxs)(i.Z,{direction:"row",spacing:2,children:[(0,d.jsx)(s.ZP,{children:(0,d.jsxs)(o.ZP,{children:[(0,d.jsx)(a.Z,{variant:"h1",children:"404"}),(0,d.jsx)(a.Z,{variant:"h6",children:"Pagina non trovata"}),(0,d.jsx)("p",{}),(0,d.jsx)(c.Z,{variant:"contained",onClick:function(){return e("/")},children:"Torna alla home"})]})}),(0,d.jsx)(s.ZP,{children:(0,d.jsx)(o.ZP,{children:(0,d.jsx)("img",{src:"/404.png",alt:"",width:500,height:500})})})]})})}},5397:function(e,t,n){var r=n(6189),i=n(184);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")}}]);
//# sourceMappingURL=293.2d47ba96.chunk.js.map